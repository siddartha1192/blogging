{% extends 'base.html' %}

{% block title %}{{ post.title }} - TechBlog{% endblock %}

{% block content %}
<article class="container mt-4 mb-5">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <!-- Post Header -->
            <div class="post-header">
                <a href="{{ url_for('category', slug=post.category.slug) }}">
                    <span class="post-badge category-{{ post.category.slug }}">{{ post.category.name }}</span>
                </a>
                <h1 class="display-5 fw-bold mt-3 mb-4">{{ post.title }}</h1>
                <div class="d-flex align-items-center mb-4">
                    <img src="{{ post.author.avatar }}" alt="{{ post.author.name }}" class="author-avatar me-3" style="width: 48px; height: 48px;">
                    <div>
                        <div class="fw-bold">{{ post.author.name }}</div>
                        <div class="text-muted">{{ post.publish_date.strftime('%B %d, %Y') }} Â· {{ post.read_time }} min read</div>
                    </div>
                </div>
            </div>
            
            <!-- Featured Image -->
            <img src="{{ post.featured_image }}" alt="{{ post.title }}" class="post-featured-image">
            
            <!-- Post Content -->
            <div class="post-content">
                {{ post.content_html|safe }}
            </div>
            
            <hr class="my-5">
            
            <!-- Trending Topics -->
            <div class="mb-5">
                <h3 class="mb-3">Trending Topics</h3>
                <div>
                    {% for topic in trending_topics %}
                    <a href="{{ url_for('topic', slug=topic.slug) }}" class="topic-tag">#{{ topic.name }}</a>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</article>

<!-- Newsletter -->
<section class="container mb-5">
    <div class="newsletter text-center">
        <h2 class="mb-3">Stay Updated with the Latest in Tech</h2>
        <p class="mb-4">Subscribe to our newsletter to receive the freshest tech news, tutorials, and exclusive content right in your inbox.</p>
        <div class="alert-container mb-3"></div>
        <form id="newsletterForm" class="newsletter-form">
            <div class="input-group mb-3">
                <input type="email" class="form-control" placeholder="Enter your email" aria-label="Email" required>
                <button class="btn btn-light" type="submit">Subscribe</button>
            </div>
            <small class="text-light">We respect your privacy. Unsubscribe at any time.</small>
        </form>
    </div>
</section>
{% endblock %}