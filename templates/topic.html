{% extends 'base.html' %}

{% block title %}#{{ topic.name }} - TechBlog{% endblock %}

{% block content %}
<!-- Topic Header -->
<section class="container mt-4 mb-5">
    <div class="bg-light p-5 rounded-3 text-center">
        <h1 class="display-4 fw-bold">#{{ topic.name }}</h1>
        <p class="lead">Articles related to {{ topic.name }}</p>
    </div>
</section>

<!-- Topic Posts -->
<section class="container mb-5">
    <h2 class="mb-4">All #{{ topic.name }} Articles</h2>
    
    {% if posts %}
    <div class="row">
        {% for post in posts %}
        <div class="col-md-6 col-lg-4 mb-4">
            <div class="post-card">
                <a href="{{ url_for('post', slug=post.slug) }}" class="text-decoration-none">
                    <img src="{{ post.featured_image }}" alt="{{ post.title }}" class="post-image w-100">
                    <div class="post-content">
                        <span class="post-badge category-{{ post.category.slug }}">{{ post.category.name }}</span>
                        <h3 class="post-title">{{ post.title }}</h3>
                        <p class="post-excerpt">{{ post.excerpt }}</p>
                        <div class="post-meta">
                            <div class="post-author">
                                <img src="{{ post.author.avatar }}" alt="{{ post.author.name }}" class="author-avatar">
                                <span>{{ post.author.name }}</span>
                            </div>
                            <span>{{ post.publish_date.strftime('%b %d, %Y') }}</span>
                        </div>
                    </div>
                </a>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="alert alert-info">
        <h3 class="h5">No Articles Found</h3>
        <p>There are no articles with this topic yet. Check back later!</p>
    </div>
    {% endif %}
</section>

<!-- Newsletter -->
<section class="container mb-5">
    <div class="newsletter text-center">
        <h2 class="mb-3">Stay Updated with the Latest in Tech</h2>
        <p class="mb-4">Subscribe to our newsletter to receive the freshest tech news, tutorials, and exclusive content right in your inbox.</p>
        <div class="alert-container mb-3"></div>
        <form id="newsletterForm" class="newsletter-form">
            <div class="input-group mb-3">
                <input type="email" class="form-control" placeholder="Enter your email" aria-label="Email" required>
                <button class="btn btn-light" type="submit">Subscribe</button>
            </div>
            <small class="text-light">We respect your privacy. Unsubscribe at any time.</small>
        </form>
    </div>
</section>
{% endblock %}